{% extends 'base.html' %}
{% load static %}
{% block content %}
    <!-- Hero Section with Rotating Background and Big Title -->
    <section id="hero-section" class="hero-section position-relative text-white d-flex align-items-center justify-content-center" style="min-height: 60vh; background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('{% if interior_images %}{{ interior_images.0 }}{% else %}/static/images/placeholder.png{% endif %}') center/cover; transition: background-image 1s ease-in-out;">
        <div class="container text-center">
            <h1 class="display-2 fw-bold mb-4">s&m-middleclassbusiness.in</h1>
            <p class="lead mb-3 text-warning fw-semibold">(A platform for every hardworking Indian family)</p>
            <p class="lead mb-4">
                S&M Middleclass Business is your trusted digital partner for everyday needs—connecting families, small businesses, and skilled professionals across India.<br>
                <span class="d-block mt-2">We empower the dreams of the middle class by making quality services accessible, affordable, and reliable. <br>
                Your aspirations, our mission—because every family deserves a better tomorrow.</span>
            </p>
        </div>
    </section>

    <script id="hero-images" type="application/json">["{{ interior_images.0|default:''|escapejs }}","{{ contractor_image|default:''|escapejs }}","{{ signboard_images.0|default:''|escapejs }}","{{ vehicle_images.0|default:''|escapejs }}"]</script>

    <script>
    // Parse hero images JSON and filter out empty entries
    let heroImages = [];
    try {
        const el = document.getElementById('hero-images');
        if (el) {
            heroImages = JSON.parse(el.textContent || el.innerText || '[]').filter(Boolean);
        }
    } catch (e) {
        console.warn('Failed to parse hero images JSON', e);
    }

    if (heroImages.length > 0) {
        let heroIndex = 0;
        setInterval(() => {
            heroIndex = (heroIndex + 1) % heroImages.length;
            const el = document.getElementById('hero-section');
            if (el) el.style.backgroundImage = `linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('${heroImages[heroIndex]}')`;
        }, 4000);
    }
    </script>

    <!-- Services Section: 4 Cards -->
    <section class="services-section py-5">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="display-5 fw-bold">Our Services</h2>
            </div>
            <div class="row g-4 justify-content-center">
                <div class="col-lg-3 col-md-6">
                    <a href="/interior/contractors/" class="text-decoration-none text-dark">
                        <div class="service-card card h-100 border-0 shadow-sm hover-shadow-lg fade-in">
                            <div class="service-image">
                                <img src="{{ interior_images.0|default:'/static/images/placeholder.png' }}" class="card-img-top" alt="Interior Services" style="height: 200px; object-fit: cover;">
                            </div>
                            <div class="card-body">
                                <div class="service-icon mb-3">
                                    <i class="fas fa-couch fa-2x text-secondary"></i>
                                </div>
                                <h5 class="card-title">Interior</h5>
                                <p class="card-text">Modern home & office interiors, modular kitchens, wardrobes, and more.</p>
                            </div>
                        </div>
                    </a>
                </div>
                <div class="col-lg-3 col-md-6">
                    <a href="/contractors/" class="text-decoration-none text-dark">
                        <div class="service-card card h-100 border-0 shadow-sm hover-shadow-lg fade-in">
                            <div class="service-image">
                                <img src="{{ contractor_image|default:'/static/images/placeholder.png' }}" class="card-img-top" alt="Professional Contractors" style="height: 200px; object-fit: cover;">
                            </div>
                            <div class="card-body">
                                <div class="service-icon mb-3">
                                    <i class="fas fa-tools fa-2x text-primary"></i>
                                </div>
                                <h5 class="card-title">Contractors</h5>
                                <p class="card-text">Verified professionals for plumbing, electrical, carpentry, and more.</p>
                            </div>
                        </div>
                    </a>
                </div>
                <div class="col-lg-3 col-md-6">
                    <a href="/signboards/" class="text-decoration-none text-dark">
                        <div class="service-card card h-100 border-0 shadow-sm hover-shadow-lg fade-in">
                            <div class="service-image">
                                <img src="{{ signboard_images.0|default:'/static/images/placeholder.png' }}" class="card-img-top" alt="Professional Signboards" style="height: 200px; object-fit: cover;">
                            </div>
                            <div class="card-body">
                                <div class="service-icon mb-3">
                                    <i class="fas fa-sign fa-2x text-warning"></i>
                                </div>
                                <h5 class="card-title">Signboards</h5>
                                <p class="card-text">ACP, acrylic, LED signboards—design, manufacture, and install.</p>
                            </div>
                        </div>
                    </a>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="position-relative h-100">
                        <a href="/vehicles/" class="text-decoration-none text-dark">
                            <div class="service-card card h-100 border-0 shadow-sm hover-shadow-lg fade-in">
                                <div class="service-image">
                                    <img src="{{ vehicle_images.0|default:'/static/images/placeholder.png' }}" class="card-img-top" alt="Vehicle Rental Services" style="height: 200px; object-fit: cover;">
                                </div>
                                <div class="card-body">
                                    <div class="service-icon mb-3">
                                        <i class="fas fa-car fa-2x text-info"></i>
                                    </div>
                                    <h5 class="card-title">Vehicles</h5>
                                    <p class="card-text">Book cars, bikes, and commercial vehicles with professional drivers.</p>
                                </div>
                            </div>
                        </a>
                        <a href="/vehicles/upload/" class="btn btn-success btn-sm position-absolute top-0 end-0 m-2" style="z-index:2;">
                            <i class="fas fa-upload"></i> Upload Your Vehicle
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Contractors Section removed -->

    <!-- Features Section -->
    <!-- Customers Marquee (above features) -->
    <section class="customers-marquee py-4 bg-white">
        <div class="container">
            <div class="text-center mb-3">
                <h2 class="h2 fw-bold">Our Customers</h2>
            </div>
            <div class="marquee-wrap">
                <div class="marquee d-flex align-items-center">
                    <div class="marquee-item flex-shrink-0 me-4">
                        <img src="{% static 'images/marquee/airtel.jpg' %}" alt="Customer 1" class="img-fluid">
                    </div>
                    <div class="marquee-item flex-shrink-0 me-4">
                        <img src="{% static 'images/marquee/castrol.jpg' %}" alt="Customer 2" class="img-fluid">
                    </div>
                    <div class="marquee-item flex-shrink-0 me-4">
                        <img src="{% static 'images/marquee/crompton.jpg' %}" alt="Customer 3" class="img-fluid">
                    </div>
                    <div class="marquee-item flex-shrink-0 me-4">
                        <img src="{% static 'images/marquee/cub.jpg' %}" alt="Customer 4" class="img-fluid">
                    </div>
                    <div class="marquee-item flex-shrink-0 me-4">
                        <img src="{% static 'images/marquee/linen_club_1.jpg' %}" alt="Customer 5" class="img-fluid">
                    </div>
                    <div class="marquee-item flex-shrink-0 me-4">
                        <img src="{% static 'images/marquee/sbi.jpg' %}" alt="Customer 6" class="img-fluid">
                    </div>
                    <div class="marquee-item flex-shrink-0 me-4">
                        <img src="{% static 'images/marquee/the_sleep_company.jpg' %}" alt="Customer 6" class="img-fluid">
                    </div>
                    <div class="marquee-item flex-shrink-0 me-4">
                        <img src="{% static 'images/marquee/tumble_dry.jpg' %}" alt="Customer 6" class="img-fluid">
                    </div>
                    <!-- duplicate for seamless loop -->
                    <div class="marquee-item flex-shrink-0 me-4">
                        <img src="{% static 'images/marquee/airtel.jpg' %}" alt="Customer 1" class="img-fluid">
                    </div>
                    <div class="marquee-item flex-shrink-0 me-4">
                        <img src="{% static 'images/marquee/castrol.jpg' %}" alt="Customer 2" class="img-fluid">
                    </div>
                    <div class="marquee-item flex-shrink-0 me-4">
                        <img src="{% static 'images/marquee/crompton.jpg' %}" alt="Customer 3" class="img-fluid">
                    </div>
                    <div class="marquee-item flex-shrink-0 me-4">
                        <img src="{% static 'images/marquee/cub.jpg' %}" alt="Customer 4" class="img-fluid">
                    </div>
                    <div class="marquee-item flex-shrink-0 me-4">
                        <img src="{% static 'images/marquee/linen_club_1.jpg' %}" alt="Customer 5" class="img-fluid">
                    </div>
                    <div class="marquee-item flex-shrink-0 me-4">
                        <img src="{% static 'images/marquee/sbi.jpg' %}" alt="Customer 6" class="img-fluid">
                    </div>
                    <div class="marquee-item flex-shrink-0 me-4">
                        <img src="{% static 'images/marquee/the_sleep_company.jpg' %}" alt="Customer 6" class="img-fluid">
                    </div>
                    <div class="marquee-item flex-shrink-0 me-4">
                        <img src="{% static 'images/marquee/tumble_dry.jpg' %}" alt="Customer 6" class="img-fluid">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="features-section py-5 bg-light">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <h2 class="display-6 fw-bold mb-4">Why Choose S&amp;M Urban Services?</h2>
                    <div class="features-list">
                        <div class="feature-item d-flex mb-3">
                            <div class="feature-icon me-3">
                                <i class="fas fa-shield-alt fa-2x text-primary"></i>
                            </div>
                            <div>
                                <h5>Verified Professionals</h5>
                                <p class="text-muted">All our service providers are background verified and highly rated.</p>
                            </div>
                        </div>

                        <div class="feature-item d-flex mb-3">
                            <div class="feature-icon me-3">
                                <i class="fas fa-clock fa-2x text-success"></i>
                            </div>
                            <div>
                                <h5>Quick Service</h5>
                                <p class="text-muted">Fast response times and efficient service delivery guaranteed.</p>
                            </div>
                        </div>

                        <div class="feature-item d-flex mb-3">
                            <div class="feature-icon me-3">
                                <i class="fas fa-star fa-2x text-warning"></i>
                            </div>
                            <div>
                                <h5>Quality Assured</h5>
                                <p class="text-muted">100% satisfaction guarantee with quality service standards.</p>
                            </div>
                        </div>

                        <div class="feature-item d-flex">
                            <div class="feature-icon me-3">
                                <i class="fas fa-headset fa-2x text-info"></i>
                            </div>
                            <div>
                                <h5>24/7 Support</h5>
                                <p class="text-muted">Round-the-clock customer support for all your queries.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="stats-grid">
                        <div class="row g-3">
                            <div class="col-6">
                                <div class="stat-card card text-center p-3">
                                    <h3 class="text-primary">500+</h3>
                                    <p class="mb-0">Verified Contractors</p>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="stat-card card text-center p-3">
                                    <h3 class="text-success">1000+</h3>
                                    <p class="mb-0">Happy Customers</p>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="stat-card card text-center p-3">
                                    <h3 class="text-warning">98%</h3>
                                    <p class="mb-0">Success Rate</p>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="stat-card card text-center p-3">
                                    <h3 class="text-info">24h</h3>
                                    <p class="mb-0">Average Response</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact-section py-5 bg-light">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto text-center">
                    <h2 class="display-6 fw-bold mb-4">Get In Touch</h2>
                    <p class="lead mb-5">Have questions? Need a custom quote? We're here to help!</p>
                </div>
            </div>

            <div class="row g-4">
                <div class="col-md-4">
                    <div class="contact-card card border-0 shadow-sm h-100 text-center p-4">
                        <div class="contact-icon mb-3">
                            <i class="fas fa-phone fa-3x text-primary"></i>
                        </div>
                        <h5>Call Us</h5>
                        <p class="text-muted mb-2">Ready to help you</p>
                        <a href="tel:9640695430" class="btn btn-outline-primary">
                            <i class="fas fa-phone"></i> 9640695430
                        </a>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="contact-card card border-0 shadow-sm h-100 text-center p-4">
                        <div class="contact-icon mb-3">
                            <i class="fas fa-envelope fa-3x text-success"></i>
                        </div>
                        <h5>Email Us</h5>
                        <p class="text-muted mb-2">Quick response guaranteed</p>
                        <a href="mailto:mahesh.suthari1989@gmail.com" class="btn btn-outline-success">
                            <i class="fas fa-envelope"></i> Send Email
                        </a>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="contact-card card border-0 shadow-sm h-100 text-center p-4">
                        <div class="contact-icon mb-3">
                            <i class="fas fa-map-marker-alt fa-3x text-warning"></i>
                        </div>
                        <h5>Visit Us</h5>
                        <p class="text-muted mb-2">Hyderabad, India</p>
                        <a href="https://maps.google.com/?q=Hyderabad,India" target="_blank" class="btn btn-outline-warning">
                            <i class="fas fa-map-marker-alt"></i> Get Directions
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section bg-primary text-white py-5">
        <div class="container text-center">
            <h2 class="display-6 fw-bold mb-4">Ready to Get Started?</h2>
            <p class="lead mb-4">Join hundreds of businesses and families who trust S&M Urban Services for quality, reliability, and innovation.</p>
            {% if not user.is_authenticated %}
            <a href="{% url 'login' %}" class="btn btn-light btn-lg">
                <i class="fas fa-user-plus"></i> Sign Up Today
            </a>
            {% else %}
            <div class="d-flex justify-content-center gap-3">
                <a href="{% url 'contractors:list' %}" class="btn btn-light">Find Contractors</a>
                <a href="{% url 'signboards:quote' %}" class="btn btn-outline-light">Get Signboard Quote</a>
                <a href="{% url 'vehicles:book' %}" class="btn btn-outline-light">Book Vehicle</a>
            </div>
            {% endif %}
        </div>
    </section>

{% endblock %}
